@List-levels: 5;

@List-size-border: 4px;
@List-size-iconButton: 20px;
@List-size-icon: 12px;

@List-size-childSpacer: 6px;
@List-size-childPadding: 15px;

.lucid-List {
	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	align-items: stretch;
	width: 100%;
	margin: 0;
	padding: 0;
	list-style: none;

	&-is-disabled,
	&-Item-is-disabled {
		.lucid-List-Item-content {
			color: @color-mediumGray;
			cursor: not-allowed;

			&:hover,
			&:active,
			&:focus {
				background: transparent;
				color: @color-mediumGray;
			}
		}
	}

	&-caret {
		width: @List-size-icon;
		height: @List-size-icon;
		stroke: @color-gray;
	}
	&-caret-is-selected {
		stroke: @color-primary;
	}

	&-expander {
		position: absolute;
		right: 5px;
		top: 5px;
		display: flex;
		justify-content: center;
		align-items: center;
		width: @List-size-iconButton;
		height: @List-size-iconButton;
		font-size: @List-size-icon;
		background: transparent;
		border-color: transparent;
		padding: 0;
		line-height: 1em;

		// Fix for safari
		> .lucid-Button-content {
			display: block;
			width: 100%;
			height: 100%;
		}

		// Remove the unnecessary animated background button gradient from the DOM
		&:active, &:focus {
			&:before {
				display: none;
			}
		}
	}

	&-Item-is-selected > &-Item-conent {
		&:before {
			color: @color-darkGray;
		}
	}
}

.lucid-List-Item {
	display: flex;
	flex-direction: column;
	align-items: stretch;

	&&-is-expanded {
		> .lucid-List {
			max-height: 9999px;
			overflow: hidden;
			transition: max-height 800ms cubic-bezier(0.755, 0.050, 0.855, 0.060); /* easeInQuint */
		}
	}

	> .lucid-List {
		overflow: hidden;
		max-height: 0;
		transition: max-height 300ms cubic-bezier(0.230, 1.000, 0.320, 1.000); /* easeOutQuint */
	}

	&-has-expander {
		> .lucid-List > .lucid-List-Item {
			flex-shrink: 0;
		}

		> .lucid-List-Item-content {
			position: relative;
			padding-right: 25px;

			&:hover {
				.lucid-List-caret {
					stroke: @color-primary;
				}

				.lucid-List-expander {
					border: 1px solid @featured-color-default-borderColor;
				}
			}

			&:focus,
			&:active {
				.lucid-List-caret {
					stroke: @color-primary;
				}
			}
		}
	}

	&-content {
		.is-selectable();
		display: flex;
		font-size: 12px;
		justify-content: flex-start;
		align-items: center;
		font-weight: bold;
		border-width: 1px 0 0 0;
		border-color: @color-gray;
		border-style: solid;
		color: @color-primary;
		padding: 10px 0 8px @List-size-childPadding;
		line-height: 11px;

		// TODO: only when something isn't selected
		&:hover {
			.hardstop-gradient(
				to right,
				@featured-color-primary,
				@featured-color-default-backgroundColor,
				@List-size-border
			);
			color: @color-darkGray;
		}

		&:focus,
		&:active {
			.hardstop-gradient(
				to right,
				@featured-color-primary,
				@featured-color-primary-backgroundColor,
				@List-size-border
			);
			color: @color-darkGray;
		}
	}

	&-is-selected > &-content {
		.hardstop-gradient(
			to right,
			@featured-color-primary,
			@featured-color-primary-backgroundColor,
			@List-size-border
		);
		color: @color-darkGray;

		&:hover {
			.hardstop-gradient(
				to right,
				@featured-color-primary,
				@featured-color-primary-backgroundColor,
				@List-size-border
			);
			color: @color-darkGray;
		}
	}

	&-is-parent .lucid-List {
		.lucid-List-Item-content {
			font-weight: normal;
			border-color: transparent;

			&:before {
				content: '-';
				display: inline-block;
				width: @List-size-childSpacer;
				color: @color-gray;
				margin: 0 @List-size-childSpacer 0 0;
			}

			&:hover {
				&:before {
					color: @color-darkGray;
				}
			}
		}

		> .lucid-List-Item-content {
			border-bottom: @color-transparent;
		}
	}

	&:first-of-type > &-content {
		border-top-color: transparent;
	}
}

// Recursive mixin to facilitate nesting to a pre-determined depth
.List-nest(@i: 0) when (@i < @List-levels) {
	.lucid-List {
		.lucid-List-Item-content {
			padding-left: @List-size-childPadding + (12 * @i);
		}

		.List-nest(@i + 1);
	}
}

// Invoke the mixin
.List-nest();

